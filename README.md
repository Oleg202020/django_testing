# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Django‚Äë–ø—Ä–æ–µ–∫—Ç–æ–≤ &laquo;Ya News&raquo; –∏ &laquo;Ya Note&raquo;

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã** –¥–ª—è –¥–≤—É—Ö —É—á–µ–±–Ω—ã—Ö Django‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
–¶–µ–ª—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ –¥–≤—É—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö


|   –ü—Ä–æ–µ–∫—Ç  |          –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ            |      –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤     |         –§—Ä–µ–π–º–≤–æ—Ä–∫          |
|-----------|--------------------------------|----------------------------|----------------------------|
|**ya_news**| –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Å–∞–π—Ç —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ |`ya_news/news/pytest_tests/`| `pytest + pytest‚Äëdjango`   |
|**ya_note**| —Å–µ—Ä–≤–∏—Å –ª–∏—á–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫          |`ya_note/notes/tests/`      |`unittest (Django TestCase)`|


**–ü–æ—á–µ–º—É –¥–≤–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞?**  
*Pytest* –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –ª–∞–∫–æ–Ω–∏—á–Ω—ã–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ &laquo;Ya News&raquo;,  
—Ç–æ–≥–¥–∞ –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π *unittest* –æ—Å—Ç–∞—ë—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —á–∞—Å—Ç—å—é Django –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ &laquo;Ya Note&raquo;. 
–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –≤ –∂–∏–≤–æ–º –∫–æ–¥–µ ‚Äî –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å –∏—Ö —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã.

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#1-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#2-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤—ã–±–æ—Ä–æ—á–Ω–æ](#3-–∑–∞–ø—É—Å–∫-—Ç–µ—Å—Ç–æ–≤-–≤—ã–±–æ—Ä–æ—á–Ω–æ)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤ ¬´Ya News¬ª](#4-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ç–µ—Å—Ç–æ–≤-ya-news)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤ ¬´Ya Note¬ª](#5-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ç–µ—Å—Ç–æ–≤-ya-note)
- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#6-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–¢—Ä–µ–±—É–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏](#7-—Ç—Ä–µ–±—É–µ–º—ã–µ-–≤–µ—Ä—Å–∏–∏)
- [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)

---

## 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
Dev
 ‚îî‚îÄ‚îÄ django_testing
     ‚îú‚îÄ‚îÄ ya_news
     ‚îÇ   ‚îú‚îÄ‚îÄ news
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fixtures/
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ migrations/
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pytest_tests/   <- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ç–µ—Å—Ç–∞–º–∏ pytest –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ya_news
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apps.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forms.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
     ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
     ‚îÇ   ‚îú‚îÄ‚îÄ templates/
     ‚îÇ   ‚îú‚îÄ‚îÄ yanews/
     ‚îÇ   ‚îú‚îÄ‚îÄ manage.py
     ‚îÇ   ‚îî‚îÄ‚îÄ pytest.ini
     ‚îú‚îÄ‚îÄ ya_note
     ‚îÇ   ‚îú‚îÄ‚îÄ notes
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ migrations/
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tests/          <- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ç–µ—Å—Ç–∞–º–∏ unittest –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ya_note
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apps.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forms.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py
     ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
     ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
     ‚îÇ   ‚îú‚îÄ‚îÄ templates/
     ‚îÇ   ‚îú‚îÄ‚îÄ yanote/
     ‚îÇ   ‚îú‚îÄ‚îÄ manage.py
     ‚îÇ   ‚îî‚îÄ‚îÄ pytest.ini
     ‚îú‚îÄ‚îÄ .gitignore
     ‚îú‚îÄ‚îÄ README.md
     ‚îú‚îÄ‚îÄ requirements.txt
     ‚îî‚îÄ‚îÄ structure_test.py
```

## 2. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone git@github.com:Oleg202020/django_testing.git
cd django_testing

python -m venv venv
source venv/bin/activate        # Linux / macOS
venv\Scripts\activate           # Windows

pip install -r requirements.txt

bash run_tests.sh               # –∑–∞–ø—É—Å—Ç–∏—Ç –í–°–ï —Ç–µ—Å—Ç—ã
```
–°–∫—Ä–∏–ø—Ç:
* 1 –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ë–î;
* 2 –≤—ã–ø–æ–ª–Ω–∏—Ç pytest‚Äë—Ç–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ ¬´Ya News¬ª;
* 3 –≤—ã–ø–æ–ª–Ω–∏—Ç unittest‚Äë—Ç–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ ¬´Ya Note¬ª;
* 4 –≤—ã–≤–µ–¥–µ—Ç —Å—É–º–º–∞—Ä–Ω—ã–π –æ—Ç—á—ë—Ç.
–ó–µ–ª—ë–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã ‚úÖ

## 3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤—ã–±–æ—Ä–æ—á–Ω–æ

```bash
# –¢–æ–ª—å–∫–æ pytest‚Äë—Ç–µ—Å—Ç—ã &laquo;Ya¬†News&raquo;
pytest ya_news

# –¢–æ–ª—å–∫–æ unittest‚Äë—Ç–µ—Å—Ç—ã &laquo;Ya¬†Note&raquo;
python ya_note/manage.py test notes
```

---

## 4. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤ ¬´Ya News¬ª

* **–§–∏–∫—Å—Ç—É—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è** –≤ ya_news/news/pytest_tests/conftest.py
(—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–æ–≤–æ—Å—Ç–µ–π, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, url‚Äëreverse –∏ —Ç.–ø.).

* **–ü–æ–∫—Ä—ã–≤–∞–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
    * –ø–∞–≥–∏–Ω–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã;
    * —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤;
    * —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–ø—Ä–∏—Å—Ç–æ–π–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ BAD_WORDS;
    * –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å CRUD‚Äë–æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π (–∞–≤—Ç–æ—Ä, –Ω–µ –∞–≤—Ç–æ—Ä, –∞–Ω–æ–Ω–∏–º).

* **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
    * pytest -q ‚Äî –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –≤—ã–≤–æ–¥,
    * pytest -vv ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Å –∏–º–µ–Ω–∞–º–∏ —Ç–µ—Å—Ç–æ–≤,
    * pytest --lf ‚Äî —Ç–æ–ª—å–∫–æ —É–ø–∞–≤—à–∏–µ —Ä–∞–Ω–µ–µ —Ç–µ—Å—Ç—ã.

---

## 5. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤ ¬´Ya Note¬ª
* –¢–µ—Å—Ç—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ ya_note/notes/tests/ –∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç django.test.TestCase.
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    * setUpTestData ‚Äî –±—ã—Å—Ç—Ä–∞—è —Ñ–∏–∫—Å—Ç—É—Ä–∞ –Ω–∞ –≤–µ—Å—å –∫–ª–∞—Å—Å;
    * force_login –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏;
    * –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ CRUD‚Äë–ø—Ä–∞–≤ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫.

---

## 6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

|  –ó–∞–¥–∞—á–∞	                   |  –ö–æ–º–∞–Ω–¥–∞                              |
|------------------------------|---------------------------------------|
|–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä Ya News      |	python ya_news/manage.py runserver |
|–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä Ya Note      |	python ya_note/manage.py runserver |
|–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  |	pip freeze > requirements.txt      |
|–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∏–ª—å	flake8     |                                       |


## 7. –¢—Ä–µ–±—É–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏
|–ü–∞–∫–µ—Ç	        | –í–µ—Ä—Å–∏—è  |
|---------------|---------|
|Python	        |3.10 +   |
|Django	        |4.2.x    |
|pytest	        |8.x      |
|pytest‚Äëdjango	|4.x      |
|coverage	    |7.x      |

–¢–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –≤ 'requirements.txt'.

*–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è üöÄ*

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

* –ê–≤—Ç–æ—Ä: Larionov Oleg
* E-mail: jktu2005@yandex.ru
* GitHub: @Oleg202020
